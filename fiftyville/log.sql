-- Keep a log of any SQL queries you execute as you solve the mystery.

SELECT * FROM crime_scene_reports;
-- Look at crime scene reports

SELECT street FROM crime_scene_reports;
-- look at crime scene locations

SELECT street FROM crime_scene_reports WHERE street LIKE "Humphrey%";
-- look at crime scene locations similar to Humphrey

SELECT * FROM crime_scene_reports WHERE street LIKE "Humphrey Street";
-- look at crimes at Humphrey Street

-- Theft of CS50 duck on 28/7/2021 10:15am
-- at Humphrey street bakery
-- 3 witnesses
-- all mention bakery in interviews

Select * FROM interviews WHERE year = 2021 AND month = 7 AND day = 28;

SELECT * FROM interviews WHERE transcript LIKE "%Bakery%" AND WHERE year = 2021 AND month = 7 AND day = 28;
-- read interviews from same day and contains bakery

-- Emma :I'm the bakery owner, and someone came in, suspiciously whispering
-- into a phone for about half an hour. They never bought anything.

-- Ruth : Sometime within ten minutes of the theft, I saw the thief get into a
-- car in the bakery parking lot and drive away.
-- If you have security footage from the bakery parking lot,
-- you might want to look for cars that left the parking lot in that time frame.

-- Eugene: I don't know the thief's name, but it was someone I recognized.
-- Earlier this morning, before I arrived at Emma's bakery,
-- I was walking by the ATM on Leggett Street and saw
-- the thief there withdrawing some money.

-- Raymond : As the thief was leaving the bakery, they called someone who talked
-- to them for less than a minute. In the call, I heard the thief say that they
-- were planning to take the earliest flight out of Fiftyville tomorrow.
-- The thief then asked the person on the other end of the phone to purchase the flight ticket.

SELECT * FROM atm_transactions WHERE year = 2021 AND month = 7 AND day = 28 AND atm_location LIKE "leggett%";
-- returns 9 results, 8 of which withdraw. narrow to withdraws

SELECT * FROM atm_transactions WHERE year = 2021 AND month = 7 AND day = 28
AND atm_location LIKE "leggett%" AND transaction_type LIKE "withdraw";

-- amounts 48, 20, 60, 50, 80, 20, 30, 35

SELECT * from bakery_security_logs WHERE year = 2021 AND month = 7 AND day = 28
AND hour >=10 AND hour <=12 AND activity LIKE "exit";
-- matches
--+-----+------+-------+-----+------+--------+----------+---------------+
--| id  | year | month | day | hour | minute | activity | license_plate |
--+-----+------+-------+-----+------+--------+----------+---------------+
--| 260 | 2021 | 7     | 28  | 10   | 16     | exit     | 5P2BI95       |
--| 261 | 2021 | 7     | 28  | 10   | 18     | exit     | 94KL13X       |
--| 262 | 2021 | 7     | 28  | 10   | 18     | exit     | 6P58WS2       |
--| 263 | 2021 | 7     | 28  | 10   | 19     | exit     | 4328GD8       |
--| 264 | 2021 | 7     | 28  | 10   | 20     | exit     | G412CB7       |
--| 265 | 2021 | 7     | 28  | 10   | 21     | exit     | L93JTIZ       |
--| 266 | 2021 | 7     | 28  | 10   | 23     | exit     | 322W7JE       |
--| 267 | 2021 | 7     | 28  | 10   | 23     | exit     | 0NTHK55       |
--| 268 | 2021 | 7     | 28  | 10   | 35     | exit     | 1106N58       |
--+-----+------+-------+-----+------+--------+----------+---------------+

SELECT * FROM phone_calls WHERE year = 2021 AND month = 7 AND day = 28;
-- +-----+----------------+----------------+------+-------+-----+----------+
-- | id  |     caller     |    receiver    | year | month | day | duration |
-- +-----+----------------+----------------+------+-------+-----+----------+
-- | 211 | (336) 555-0077 | (098) 555-1164 | 2021 | 7     | 28  | 318      |
-- | 212 | (918) 555-5327 | (060) 555-2489 | 2021 | 7     | 28  | 146      |
-- | 213 | (491) 555-2505 | (478) 555-1565 | 2021 | 7     | 28  | 241      |
-- | 214 | (996) 555-8899 | (059) 555-4698 | 2021 | 7     | 28  | 142      |
-- | 215 | (704) 555-5790 | (772) 555-5770 | 2021 | 7     | 28  | 200      |
-- | 216 | (984) 555-5921 | (618) 555-9856 | 2021 | 7     | 28  | 546      |
-- | 217 | (579) 555-5030 | (971) 555-6468 | 2021 | 7     | 28  | 421      |
-- | 218 | (233) 555-0473 | (831) 555-0973 | 2021 | 7     | 28  | 113      |
-- | 219 | (293) 555-1469 | (749) 555-4874 | 2021 | 7     | 28  | 195      |
-- | 220 | (450) 555-8297 | (771) 555-7880 | 2021 | 7     | 28  | 298      |
-- | 221 | (130) 555-0289 | (996) 555-8899 | 2021 | 7     | 28  | 51       |
-- | 222 | (209) 555-7806 | (693) 555-7986 | 2021 | 7     | 28  | 487      |
-- | 223 | (918) 555-2946 | (006) 555-0505 | 2021 | 7     | 28  | 359      |
-- | 224 | (499) 555-9472 | (892) 555-8872 | 2021 | 7     | 28  | 36       |
-- | 225 | (669) 555-6918 | (914) 555-5994 | 2021 | 7     | 28  | 233      |
-- | 226 | (547) 555-8781 | (398) 555-1013 | 2021 | 7     | 28  | 272      |
-- | 227 | (544) 555-8087 | (389) 555-5198 | 2021 | 7     | 28  | 595      |
-- | 228 | (666) 555-5774 | (125) 555-8030 | 2021 | 7     | 28  | 326      |
-- | 229 | (047) 555-0577 | (059) 555-4698 | 2021 | 7     | 28  | 379      |
-- | 230 | (301) 555-4174 | (711) 555-3007 | 2021 | 7     | 28  | 583      |
-- | 231 | (801) 555-9266 | (984) 555-5921 | 2021 | 7     | 28  | 148      |
-- | 232 | (971) 555-6468 | (267) 555-2761 | 2021 | 7     | 28  | 149      |
-- | 233 | (367) 555-5533 | (375) 555-8161 | 2021 | 7     | 28  | 45       |
-- | 234 | (609) 555-5876 | (389) 555-5198 | 2021 | 7     | 28  | 60       |
-- | 235 | (357) 555-0246 | (502) 555-6712 | 2021 | 7     | 28  | 305      |
-- | 236 | (367) 555-5533 | (344) 555-9601 | 2021 | 7     | 28  | 120      |
-- | 237 | (394) 555-3247 | (035) 555-2997 | 2021 | 7     | 28  | 111      |
-- | 238 | (839) 555-1757 | (487) 555-5865 | 2021 | 7     | 28  | 278      |
-- | 239 | (770) 555-1196 | (324) 555-0416 | 2021 | 7     | 28  | 527      |
-- | 240 | (636) 555-4198 | (670) 555-8598 | 2021 | 7     | 28  | 69       |
-- | 241 | (068) 555-0183 | (770) 555-1861 | 2021 | 7     | 28  | 371      |
-- | 242 | (711) 555-3007 | (113) 555-7544 | 2021 | 7     | 28  | 157      |
-- | 243 | (060) 555-2489 | (204) 555-4136 | 2021 | 7     | 28  | 510      |
-- | 244 | (704) 555-2131 | (891) 555-5672 | 2021 | 7     | 28  | 103      |
-- | 245 | (367) 555-5533 | (022) 555-4052 | 2021 | 7     | 28  | 241      |
-- | 246 | (873) 555-3868 | (047) 555-0577 | 2021 | 7     | 28  | 109      |
-- | 247 | (867) 555-9103 | (068) 555-0183 | 2021 | 7     | 28  | 116      |
-- | 248 | (608) 555-9302 | (725) 555-3243 | 2021 | 7     | 28  | 280      |
-- | 249 | (901) 555-8732 | (491) 555-2505 | 2021 | 7     | 28  | 451      |
-- | 250 | (478) 555-1565 | (717) 555-1342 | 2021 | 7     | 28  | 573      |
-- | 251 | (499) 555-9472 | (717) 555-1342 | 2021 | 7     | 28  | 50       |
-- | 252 | (695) 555-0348 | (338) 555-6650 | 2021 | 7     | 28  | 383      |
-- | 253 | (696) 555-9195 | (258) 555-5627 | 2021 | 7     | 28  | 525      |
-- | 254 | (286) 555-6063 | (676) 555-6554 | 2021 | 7     | 28  | 43       |
-- | 255 | (770) 555-1861 | (725) 555-3243 | 2021 | 7     | 28  | 49       |
-- | 256 | (711) 555-3007 | (147) 555-6818 | 2021 | 7     | 28  | 358      |
-- | 257 | (725) 555-4692 | (821) 555-5262 | 2021 | 7     | 28  | 456      |
-- | 258 | (324) 555-0416 | (452) 555-8550 | 2021 | 7     | 28  | 328      |
-- | 259 | (234) 555-1294 | (772) 555-5770 | 2021 | 7     | 28  | 573      |
-- | 260 | (669) 555-6918 | (971) 555-6468 | 2021 | 7     | 28  | 67       |
-- | 261 | (031) 555-6622 | (910) 555-3251 | 2021 | 7     | 28  | 38       |
-- | 262 | (342) 555-9260 | (219) 555-0139 | 2021 | 7     | 28  | 404      |
-- | 263 | (342) 555-9260 | (487) 555-5865 | 2021 | 7     | 28  | 560      |
-- | 264 | (801) 555-9266 | (608) 555-9302 | 2021 | 7     | 28  | 425      |
-- | 265 | (398) 555-1013 | (329) 555-5870 | 2021 | 7     | 28  | 237      |
-- | 266 | (016) 555-9166 | (336) 555-0077 | 2021 | 7     | 28  | 88       |
-- | 267 | (594) 555-2863 | (491) 555-2505 | 2021 | 7     | 28  | 361      |
-- | 268 | (122) 555-4581 | (831) 555-0973 | 2021 | 7     | 28  | 491      |
-- | 269 | (914) 555-5994 | (973) 555-3809 | 2021 | 7     | 28  | 320      |
-- | 270 | (258) 555-5627 | (695) 555-0348 | 2021 | 7     | 28  | 368      |
-- | 271 | (751) 555-6567 | (594) 555-6254 | 2021 | 7     | 28  | 61       |
-- | 272 | (771) 555-7880 | (711) 555-3007 | 2021 | 7     | 28  | 288      |
-- | 273 | (219) 555-0139 | (867) 555-9103 | 2021 | 7     | 28  | 514      |
-- | 274 | (676) 555-6554 | (328) 555-9658 | 2021 | 7     | 28  | 153      |
-- | 275 | (749) 555-4874 | (492) 555-5484 | 2021 | 7     | 28  | 575      |
-- | 276 | (328) 555-9658 | (775) 555-7584 | 2021 | 7     | 28  | 579      |
-- | 277 | (219) 555-0139 | (910) 555-3251 | 2021 | 7     | 28  | 121      |
-- | 278 | (380) 555-4380 | (680) 555-4935 | 2021 | 7     | 28  | 550      |
-- | 279 | (826) 555-1652 | (066) 555-9701 | 2021 | 7     | 28  | 55       |
-- | 280 | (594) 555-6254 | (123) 555-5144 | 2021 | 7     | 28  | 346      |
-- | 281 | (338) 555-6650 | (704) 555-2131 | 2021 | 7     | 28  | 54       |
-- | 282 | (971) 555-6468 | (258) 555-5627 | 2021 | 7     | 28  | 441      |
-- | 283 | (730) 555-5115 | (343) 555-0167 | 2021 | 7     | 28  | 101      |
-- | 284 | (286) 555-6063 | (310) 555-8568 | 2021 | 7     | 28  | 235      |
-- | 285 | (367) 555-5533 | (704) 555-5790 | 2021 | 7     | 28  | 75       |
-- | 286 | (041) 555-4011 | (609) 555-5876 | 2021 | 7     | 28  | 565      |
-- | 287 | (478) 555-1565 | (031) 555-6622 | 2021 | 7     | 28  | 398      |
-- +-----+----------------+----------------+------+-------+-----+----------+

-- +----------------+
-- |     caller     |
-- +----------------+
-- | (336) 555-0077 |
-- | (918) 555-5327 |
-- | (491) 555-2505 |
-- | (996) 555-8899 |
-- | (704) 555-5790 |
-- | (984) 555-5921 |
-- | (579) 555-5030 |
-- | (233) 555-0473 |
-- | (293) 555-1469 |
-- | (450) 555-8297 |
-- | (130) 555-0289 |
-- | (209) 555-7806 |
-- | (918) 555-2946 |
-- | (499) 555-9472 |
-- | (669) 555-6918 |
-- | (547) 555-8781 |
-- | (544) 555-8087 |
-- | (666) 555-5774 |
-- | (047) 555-0577 |
-- | (301) 555-4174 |
-- | (801) 555-9266 |
-- | (971) 555-6468 |
-- | (367) 555-5533 |
-- | (609) 555-5876 |
-- | (357) 555-0246 |
-- | (367) 555-5533 |
-- | (394) 555-3247 |
-- | (839) 555-1757 |
-- | (770) 555-1196 |
-- | (636) 555-4198 |
-- | (068) 555-0183 |
-- | (711) 555-3007 |
-- | (060) 555-2489 |
-- | (704) 555-2131 |
-- | (367) 555-5533 |
-- | (873) 555-3868 |
-- | (867) 555-9103 |
-- | (608) 555-9302 |
-- | (901) 555-8732 |
-- | (478) 555-1565 |
-- | (499) 555-9472 |
-- | (695) 555-0348 |
-- | (696) 555-9195 |
-- | (286) 555-6063 |
-- | (770) 555-1861 |
-- | (711) 555-3007 |
-- | (725) 555-4692 |
-- | (324) 555-0416 |
-- | (234) 555-1294 |
-- | (669) 555-6918 |
-- | (031) 555-6622 |
-- | (342) 555-9260 |
-- | (342) 555-9260 |
-- | (801) 555-9266 |
-- | (398) 555-1013 |
-- | (016) 555-9166 |
-- | (594) 555-2863 |
-- | (122) 555-4581 |
-- | (914) 555-5994 |
-- | (258) 555-5627 |
-- | (751) 555-6567 |
-- | (771) 555-7880 |
-- | (219) 555-0139 |
-- | (676) 555-6554 |
-- | (749) 555-4874 |
-- | (328) 555-9658 |
-- | (219) 555-0139 |
-- | (380) 555-4380 |
-- | (826) 555-1652 |
-- | (594) 555-6254 |
-- | (338) 555-6650 |
-- | (971) 555-6468 |
-- | (730) 555-5115 |
-- | (286) 555-6063 |
-- | (367) 555-5533 |
-- | (041) 555-4011 |
-- | (478) 555-1565 |
-- +----------------+

SELECT * FROM people WHERE phone_number IN (SELECT caller FROM phone_calls WHERE year = 2021 AND month = 7 AND day = 28)
INTERSECT
SELECT * FROM people WHERE license_plate IN (SELECT license_plate from bakery_security_logs WHERE year = 2021 AND month = 7 AND day = 28
AND hour >=10 AND hour <=12 AND activity LIKE "exit");

-- +--------+---------+----------------+-----------------+---------------+
-- |   id   |  name   |  phone_number  | passport_number | license_plate |
-- +--------+---------+----------------+-----------------+---------------+
-- | 221103 | Vanessa | (725) 555-4692 | 2963008352      | 5P2BI95       |
-- | 243696 | Barry   | (301) 555-4174 | 7526138472      | 6P58WS2       |
-- | 398010 | Sofia   | (130) 555-0289 | 1695452385      | G412CB7       |
-- | 449774 | Taylor  | (286) 555-6063 | 1988161715      | 1106N58       |
-- | 514354 | Diana   | (770) 555-1861 | 3592750733      | 322W7JE       |
-- | 560886 | Kelsey  | (499) 555-9472 | 8294398571      | 0NTHK55       |
-- | 686048 | Bruce   | (367) 555-5533 | 5773159633      | 94KL13X       |
-- +--------+---------+----------------+-----------------+---------------+

SELECT person_id, account_number FROM bank_accounts WHERE person_id IN
(SELECT id FROM people WHERE phone_number IN
(SELECT caller FROM phone_calls WHERE year = 2021 AND month = 7 AND day = 28)
INTERSECT
SELECT id FROM people WHERE license_plate IN
(SELECT license_plate from bakery_security_logs WHERE year = 2021 AND month = 7 AND day = 28
AND hour >=10 AND hour <=12 AND activity LIKE "exit"));

-- +-----------+----------------+
-- | person_id | account_number |
-- +-----------+----------------+
-- | 686048    | 49610011       | <<
-- | 514354    | 26013199       |
-- | 449774    | 76054385       | <<
-- | 243696    | 56171033       |
-- +-----------+----------------+

SELECT * FROM atm_transactions WHERE account_number IN
(SELECT account_number FROM bank_accounts WHERE person_id IN
(SELECT id FROM people WHERE phone_number IN
(SELECT caller FROM phone_calls WHERE year = 2021 AND month = 7 AND day = 28)
INTERSECT
SELECT id FROM people WHERE license_plate IN
(SELECT license_plate from bakery_security_logs WHERE year = 2021 AND month = 7 AND day = 28
AND hour >=10 AND hour <=12 AND activity LIKE "exit")));

--two suspects
-- +--------+--------+----------------+-----------------+---------------+
-- |   id   |  name  |  phone_number  | passport_number | license_plate |
-- +--------+--------+----------------+-----------------+---------------+
-- | 449774 | Taylor | (286) 555-6063 | 1988161715      | 1106N58       |
-- | 686048 | Bruce  | (367) 555-5533 | 5773159633      | 94KL13X       |
-- +--------+--------+----------------+-----------------+---------------+

SELECT * FROM bakery_security_logs WHERE license_plate IN
(SELECT license_plate FROM people WHERE id = 686048 OR id = 449774);
-- +-----+------+-------+-----+------+--------+----------+---------------+
-- | id  | year | month | day | hour | minute | activity | license_plate |
-- +-----+------+-------+-----+------+--------+----------+---------------+
-- | 232 | 2021 | 7     | 28  | 8    | 23     | entrance | 94KL13X       |
-- | 237 | 2021 | 7     | 28  | 8    | 34     | entrance | 1106N58       |
-- | 261 | 2021 | 7     | 28  | 10   | 18     | exit     | 94KL13X       |
-- | 268 | 2021 | 7     | 28  | 10   | 35     | exit     | 1106N58       |
-- +-----+------+-------+-----+------+--------+----------+---------------+

SELECT * FROM atm_transactions WHERE account_number = 49610011 OR account_number = 76054385;
-- +-----+----------------+------+-------+-----+----------------+------------------+--------+
-- | id  | account_number | year | month | day |  atm_location  | transaction_type | amount |
-- +-----+----------------+------+-------+-----+----------------+------------------+--------+
-- | 39  | 49610011       | 2021 | 7     | 26  | Leggett Street | withdraw         | 10     |
-- | 266 | 76054385       | 2021 | 7     | 28  | Leggett Street | withdraw         | 60     |
-- | 267 | 49610011       | 2021 | 7     | 28  | Leggett Street | withdraw         | 50     |
-- +-----+----------------+------+-------+-----+----------------+------------------+--------+

select * from phone_calls where caller = "(367) 555-5533" OR receiver = "(367) 555-5533" AND day = 28;
-- +-----+----------------+----------------+------+-------+-----+----------+
-- | id  |     caller     |    receiver    | year | month | day | duration |
-- +-----+----------------+----------------+------+-------+-----+----------+
-- | 233 | (367) 555-5533 | (375) 555-8161 | 2021 | 7     | 28  | 45       |
-- | 236 | (367) 555-5533 | (344) 555-9601 | 2021 | 7     | 28  | 120      |
-- | 245 | (367) 555-5533 | (022) 555-4052 | 2021 | 7     | 28  | 241      |
-- | 285 | (367) 555-5533 | (704) 555-5790 | 2021 | 7     | 28  | 75       |
-- +-----+----------------+----------------+------+-------+-----+----------+

select * from phone_calls where caller = "(286) 555-6063" OR receiver = "(286) 555-6063" AND day = 28;

-- +-----+----------------+----------------+------+-------+-----+----------+
-- | id  |     caller     |    receiver    | year | month | day | duration |
-- +-----+----------------+----------------+------+-------+-----+----------+
-- | 254 | (286) 555-6063 | (676) 555-6554 | 2021 | 7     | 28  | 43       |
-- | 284 | (286) 555-6063 | (310) 555-8568 | 2021 | 7     | 28  | 235      |
-- +-----+----------------+----------------+------+-------+-----+----------+

-- bruce is thief
select name from people where phone_number in (select receiver from phone_calls where caller = "(367) 555-5533" and day = 28);

-- people bruce called on day of incident

-- +---------+
-- |  name   |
-- +---------+
-- | Gregory |
-- | Carl    |
-- | Robin   |
-- | Deborah |
-- +---------+

select passport_number from people where name like "bruce";

-- bruce passport number

-- +-----------------+
-- | passport_number |
-- +-----------------+
-- | 5773159633      |
-- +-----------------+

select * from passengers where passport_number in (select passport_number from people where name like "bruce");

-- bruce took flight 36
-- +-----------+-----------------+------+
-- | flight_id | passport_number | seat |
-- +-----------+-----------------+------+
-- | 36        | 5773159633      | 4A   |
-- +-----------+-----------------+------+

select * from flights where day = 28 or day = 29;
-- +----+-------------------+------------------------+------+-------+-----+------+--------+
-- | id | origin_airport_id | destination_airport_id | year | month | day | hour | minute |
-- +----+-------------------+------------------------+------+-------+-----+------+--------+
-- | 1  | 8                 | 7                      | 2021 | 7     | 28  | 17   | 50     |
-- | 4  | 1                 | 8                      | 2021 | 7     | 28  | 9    | 28     |
-- | 6  | 8                 | 5                      | 2021 | 7     | 28  | 13   | 49     |
-- | 17 | 8                 | 4                      | 2021 | 7     | 28  | 20   | 16     |
-- | 18 | 8                 | 6                      | 2021 | 7     | 29  | 16   | 0      |
-- | 19 | 2                 | 8                      | 2021 | 7     | 28  | 21   | 15     |
-- | 20 | 6                 | 8                      | 2021 | 7     | 28  | 15   | 22     |
-- | 22 | 1                 | 8                      | 2021 | 7     | 28  | 12   | 51     |
-- | 23 | 8                 | 11                     | 2021 | 7     | 29  | 12   | 15     |
-- | 27 | 5                 | 8                      | 2021 | 7     | 28  | 8    | 35     |
-- | 33 | 6                 | 8                      | 2021 | 7     | 28  | 17   | 58     |
-- | 34 | 8                 | 5                      | 2021 | 7     | 28  | 17   | 20     |
-- | 35 | 8                 | 4                      | 2021 | 7     | 28  | 16   | 16     |
-- | 36 | 8                 | 4                      | 2021 | 7     | 29  | 8    | 20     |  << bruce took first flight out from location 8 to 4
-- | 40 | 7                 | 8                      | 2021 | 7     | 28  | 13   | 47     |
-- | 41 | 3                 | 8                      | 2021 | 7     | 28  | 14   | 14     |
-- | 43 | 8                 | 1                      | 2021 | 7     | 29  | 9    | 30     |
-- | 51 | 4                 | 8                      | 2021 | 7     | 28  | 18   | 3      |
-- | 53 | 8                 | 9                      | 2021 | 7     | 29  | 15   | 20     |
-- +----+-------------------+------------------------+------+-------+-----+------+--------+

SELECT * from airports;
-- +----+--------------+-----------------------------------------+---------------+
-- | id | abbreviation |                full_name                |     city      |
-- +----+--------------+-----------------------------------------+---------------+
-- | 1  | ORD          | O'Hare International Airport            | Chicago       |
-- | 2  | PEK          | Beijing Capital International Airport   | Beijing       |
-- | 3  | LAX          | Los Angeles International Airport       | Los Angeles   |
-- | 4  | LGA          | LaGuardia Airport                       | New York City | << to here
-- | 5  | DFS          | Dallas/Fort Worth International Airport | Dallas        |
-- | 6  | BOS          | Logan International Airport             | Boston        |
-- | 7  | DXB          | Dubai International Airport             | Dubai         |
-- | 8  | CSF          | Fiftyville Regional Airport             | Fiftyville    | << bruce left from here
-- | 9  | HND          | Tokyo International Airport             | Tokyo         |
-- | 10 | CDG          | Charles de Gaulle Airport               | Paris         |
-- | 11 | SFO          | San Francisco International Airport     | San Francisco |
-- | 12 | DEL          | Indira Gandhi International Airport     | Delhi         |
-- +----+--------------+-----------------------------------------+---------------+

-- check if anyone left with bruce
select * from passengers where flight_id = 36;
-- +-----------+-----------------+------+
-- | flight_id | passport_number | seat |
-- +-----------+-----------------+------+
-- | 36        | 7214083635      | 2A   |
-- | 36        | 1695452385      | 3B   |
-- | 36        | 5773159633      | 4A   |
-- | 36        | 1540955065      | 5C   |
-- | 36        | 8294398571      | 6C   |
-- | 36        | 1988161715      | 6D   |
-- | 36        | 9878712108      | 7A   |
-- | 36        | 8496433585      | 7B   |
-- +-----------+-----------------+------+

select * from people where passport_number in (select passport_number from passengers where flight_id = 36);

-- +--------+--------+----------------+-----------------+---------------+
-- |   id   |  name  |  phone_number  | passport_number | license_plate |
-- +--------+--------+----------------+-----------------+---------------+
-- | 395717 | Kenny  | (826) 555-1652 | 9878712108      | 30G67EN       |
-- | 398010 | Sofia  | (130) 555-0289 | 1695452385      | G412CB7       |
-- | 449774 | Taylor | (286) 555-6063 | 1988161715      | 1106N58       |
-- | 467400 | Luca   | (389) 555-5198 | 8496433585      | 4328GD8       |
-- | 560886 | Kelsey | (499) 555-9472 | 8294398571      | 0NTHK55       |
-- | 651714 | Edward | (328) 555-1152 | 1540955065      | 130LD9Z       |
-- | 686048 | Bruce  | (367) 555-5533 | 5773159633      | 94KL13X       |
-- | 953679 | Doris  | (066) 555-9701 | 7214083635      | M51FA04       |
-- +--------+--------+----------------+-----------------+---------------+

-- +-----+----------------+----------------+------+-------+-----+----------+
-- | id  |     caller     |    receiver    | year | month | day | duration |
-- +-----+----------------+----------------+------+-------+-----+----------+
-- | 233 | (367) 555-5533 | (375) 555-8161 | 2021 | 7     | 28  | 45       |
-- | 236 | (367) 555-5533 | (344) 555-9601 | 2021 | 7     | 28  | 120      |
-- | 245 | (367) 555-5533 | (022) 555-4052 | 2021 | 7     | 28  | 241      |
-- | 285 | (367) 555-5533 | (704) 555-5790 | 2021 | 7     | 28  | 75       |
-- +-----+----------------+----------------+------+-------+-----+----------+